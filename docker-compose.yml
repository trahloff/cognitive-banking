version: '2'

# creates a shared network for all services on startup
networks:
  default:
    driver: bridge


services:

  cb-db:
    container_name: cb-db
    image: postgres
    restart: always
    environment:
      - POSTGRES_PASSWORD=passwd
      - POSTGRES_USER=root
    ports:
      - "5432:5432"
    volumes:
      - "./postgres-data:/var/lib/postgresql/data"

  # cb-api_auth:
  #   container_name: cb-api_auth
  #   build: ./cb-api_auth
  #   image: trahloff/cb-api_auth
  #   ports:
  #     - "8081:8081"

  # cb-frontend:
  #     container_name: cb-frontend
  #     build: ./cb-frontend
  #     image: trahloff/cb-frontend
  #     depends_on:
  #      - cb-db
  #      - cb-api_auth
  #     ports:
  #     - "8082:8082"
